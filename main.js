!function(){var e={629:function(){const e=function(e){e.disabled=!0};var t;t={form:".suggest__form",input:".suggest__input",submitButton:".suggest__submit-button",errorClass:"suggest__error_show"},[...document.querySelectorAll(t.form)].forEach((o=>{o.addEventListener("submit",(a=>{a.preventDefault(),o.reset(),e(a.target.querySelector(t.submitButton))})),function(t,o){const{input:a,submitButton:i}=o,r=[...t.querySelectorAll(a)],n=t.querySelector(i);r.forEach((a=>{a.addEventListener("input",(i=>{!function(e,t,o){t.validity.valid?function(e,t,o){let{errorClass:a}=o;e.querySelector(`#${t.id}-error`).classList.remove(a)}(e,t,o):function(e,t,o){let{errorClass:a}=o;const i=e.querySelector(`#${t.id}-error`);i.classList.add(a),i.textContent=t.validationMessage}(e,t,o)}(t,a,o),function(t,o){let a=!1;t.forEach((e=>{e.validity.valid||(a=!0)})),a?e(o):o.disabled=!1}(r,n)}))}))}(o,t)}))}},t={};function o(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,o),r.exports}!function(){"use strict";o(629);var e=JSON.parse('{"gJ":11171.62,"Nf":5094.52,"F1":[{"name":"Acadia","description":"Covering most of Mount Desert Island and other coastal islands, Acadia features the tallest mountain on the Atlantic coast of the United States, granite peaks, ocean shoreline, woodlands, and lakes. There are freshwater, estuary, forest, and intertidal habitats.","longitude":-68.21,"latitude":44.35,"area_km2":198.6,"image_url":"https://www.nps.gov/common/uploads/grid_builder/acad/crop16_9/502982C7-F441-2BDF-5FAF02A81C420E5E.jpg","baseline_order":6,"optimized_order":2},{"name":"Glacier","description":"The U.S. half of Waterton-Glacier International Peace Park, this park includes 26 rapidly receding glaciers and 130 named lakes surrounded by Rocky Mountain peaks. Historic hotels and the landmark Going-to-the-Sun Road accommodate visitors. The local mountains, formed by an overthrust, expose Paleozoic fossils including trilobites, mollusks, giant ferns and dinosaurs. The park is also home to Triple Divide Peak, which forms the boundary between the watersheds of the Atlantic, Pacific, and Arctic Oceans.","longitude":-114,"latitude":48.8,"area_km2":4100,"image_url":"https://www.nps.gov/common/uploads/grid_builder/glac/crop1_1/4DC1DCBC-1DD8-B71B-0B08B7CCA02198DE.jpg","baseline_order":9,"optimized_order":3},{"name":"Grand Canyon","description":"The Grand Canyon, carved by the mighty Colorado River, is 277 miles (446 km) long, up to 1 mile (1.6 km) deep, and up to 15 miles (24 km) wide. Millions of years of erosion have resulted in a massive three-tiered canyon, exposing the multicolored layers of the Colorado Plateau in mesas and canyon walls, visible from trails that descend into the canyon from the north and south rims.","longitude":-112.14,"latitude":36.06,"area_km2":4862.9,"image_url":"https://www.nps.gov/grca/planyourvisit/images/powell-pt-640.jpg","baseline_order":4,"optimized_order":8},{"name":"Grand Teton","description":"Grand Teton is the tallest mountain in the scenic Teton Range. The park\'s historic Jackson Hole and reflective piedmont lakes teem with endemic wildlife, with a backdrop of craggy mountains that rise abruptly from the sage-covered valley below.","longitude":-110.8,"latitude":43.73,"area_km2":1254.7,"image_url":"https://www.nps.gov/common/uploads/grid_builder/grte/crop16_9/1F0235E8-DC7D-04FB-828DB0F96362E536.jpg","baseline_order":7,"optimized_order":5},{"name":"Great Smoky Mountains","description":"The Great Smoky Mountains, part of the Appalachian Mountains, span a wide range of elevations, making them home to over 400 vertebrate species, 100 tree species, and 5,000 plant species. Hiking is the park\'s main attraction, with over 800 miles (1,300 km) of trails, including 70 miles (110 km) of the Appalachian Trail. Other activities include fishing, horseback riding, and touring nearly 80 historic structures.","longitude":-83.53,"latitude":35.68,"area_km2":2114.2,"image_url":"https://www.nps.gov/common/uploads/grid_builder/grsm/crop16_9/82A2A8AA-DB85-E32F-A44F39F51C3052FB.jpg","baseline_order":1,"optimized_order":1},{"name":"Rocky Mountain","description":"Bisected north to south by the Continental Divide, this portion of the Rockies has ecosystems varying from over 150 riparian lakes to montane and subalpine forests to treeless alpine tundra. Wildlife including elk, moose, mule deer, bighorn sheep, black bears, and cougars inhabit its igneous mountains and glacial valleys. Longs Peak, a classic Colorado fourteener, and the scenic Bear Lake are popular destinations, as well as the historic Trail Ridge Road, which reaches an elevation of more than 12,000 feet (3,700 m).","longitude":-105.58,"latitude":40.4,"area_km2":1075.7,"image_url":"https://www.nps.gov/common/uploads/grid_builder/romo/crop16_9/729AF759-EE25-2BE5-059D883B2F6B6F50.jpg","baseline_order":5,"optimized_order":9},{"name":"Yellowstone","description":"Situated on the Yellowstone Caldera, the park has an expansive network of geothermal areas including boiling mud pots, vividly colored hot springs such as Grand Prismatic Spring, and regularly erupting geysers, the best-known being Old Faithful. The yellow-hued Grand Canyon of the Yellowstone River contains several high waterfalls, and four mountain ranges traverse the park. More than 60 mammal species including timber wolves, grizzly bears, black bears, lynxes, bison, and elk make this park one of the best wildlife viewing spots in the country.","longitude":-110.5,"latitude":44.6,"area_km2":8983.2,"image_url":"https://www.nps.gov/common/uploads/grid_builder/yell/crop16_9/1DC2A26C-9F15-26FA-6589D295CB04DB90.jpg","baseline_order":3,"optimized_order":4},{"name":"Yosemite","description":"Yosemite features sheer granite cliffs, exceptionally tall waterfalls, and old-growth forests at a unique intersection of geology and hydrology. Half Dome and El Capitan rise from the park\'s centerpiece, the glacier-carved Yosemite Valley, and from its vertical walls drop Yosemite Falls, one of North America\'s tallest waterfalls at 2,425 feet (739 m) high. Three giant sequoia groves, along with a pristine wilderness in the heart of the Sierra Nevada, are home to a wide variety of rare plant and animal species.","longitude":-119.5,"latitude":37.83,"area_km2":3082.7,"image_url":"https://www.nps.gov/common/uploads/grid_builder/yose/crop16_9/919529B5-1DD8-B71B-0B61F901E854111D.jpg","baseline_order":8,"optimized_order":6},{"name":"Zion","description":"Located at the junction of the Colorado Plateau, Great Basin, and Mojave Desert, this park contains sandstone features such as mesas, rock towers, and canyons, including the Virgin River Narrows. The various sandstone formations and the forks of the Virgin River create a wilderness divided into four ecosystems: desert, riparian, woodland, and coniferous forest.","longitude":-113.05,"latitude":37.3,"area_km2":595.9,"image_url":"https://www.nps.gov/common/uploads/grid_builder/zion/crop16_9/3F936BF4-1DD8-B71B-0B335232937DB252.jpg","baseline_order":2,"optimized_order":7}]}');const t=document.querySelector(".header"),a=t.querySelector(".nav__toggle"),i=t.querySelector(".nav__toggle-line_top"),r=t.querySelector(".nav__toggle-line_bottom"),n=t.querySelector(".nav__links"),s=document.querySelector(".route__caption"),l=s.querySelector(".route__caption_data_optimized"),d=s.querySelector(".route__caption_data_unoptimized"),c=s.querySelector(".route__caption_data_difference"),u=s.querySelector(".route__caption_data_efficiency"),m=document.querySelector(".footer__year"),p=document.querySelector(".suggest__thankyou"),g=(new Date).getFullYear(),h=[...e.F1].sort(((e,t)=>e.optimized_order-t.optimized_order)),_=([...e.F1].sort(((e,t)=>e.baseline_order-t.baseline_order)),e.Nf),f=e.gJ,v=f-_,y=(100*v/f).toFixed(2);function w(){p.classList.remove("suggest__thankyou_show")}m.textContent=g,l.textContent=_+"-mile",d.textContent=f+"-mile",c.textContent=v+"-mile",u.textContent=y+"%",a.addEventListener("click",(()=>{i.classList.toggle("nav__toggle-line_top-rotate"),r.classList.toggle("nav__toggle-line_bottom-rotate"),n.classList.toggle("nav__links_open")})),document.addEventListener("submit",(e=>{e.preventDefault(),p.classList.add("suggest__thankyou_show"),setTimeout(w,15e3)}));const k=L.map("map").setView([39.8283,-98.5795],4);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(k),h.forEach((e=>{L.marker([e.latitude,e.longitude],{icon:L.icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]})}).addTo(k).bindPopup(e.name)})),function(e){k.eachLayer((e=>{e instanceof L.Routing.Control&&k.removeLayer(e)}));const t=e.map((e=>L.latLng(e.latitude,e.longitude)));L.Routing.control({waypoints:t,createMarker:()=>null,routeWhileDragging:!1,addWaypoints:!1}).addTo(k)}(h)}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBS0UsU0FBVUYsRUFBS0csYUFHL0JSLEVBQUVtQixRQUFRSyxRQUFRLENBQ2hCRixVQUFXQSxFQUNYRyxhQUFjQSxJQUNMLEtBRVRDLG9CQUFvQixFQUNwQkMsY0FBYyxJQUNidkIsTUFBTUwsRUFDWCxDQUdBNkIsQ0FBZ0I1QyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vanVuZS1jb2RlLWphbS0yMDI0Ly4vc3JjL3NjcmlwdHMvdmFsaWRhdGUuanMiLCJ3ZWJwYWNrOi8vanVuZS1jb2RlLWphbS0yMDI0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2p1bmUtY29kZS1qYW0tMjAyNC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vanVuZS1jb2RlLWphbS0yMDI0Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuVmFsaWRhdGlvbiBiZWdpbnMuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbi8vVXNlIGZ1bmN0aW9uIGJlY2F1c2UgZGlkbid0IGZpbmlzaCBTcHJpbnQgNyB5ZXRcclxuLy9ldmVuIHRob3VnaCB0aGVyZSBpcyBvbmx5IG9uZSBpbnB1dCwgc3RpbGwgdXNlIGZvckVhY2ggdG8gbWFrZSBpdCBhY2Nlc3NhYmxlLlxyXG5cclxuLy9tYWtlIGFuIG9iamVjdCBmb3IgZnVuY3Rpb25zXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICBmb3JtOiBcIi5zdWdnZXN0X19mb3JtXCIsXHJcbiAgaW5wdXQ6IFwiLnN1Z2dlc3RfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uOiBcIi5zdWdnZXN0X19zdWJtaXQtYnV0dG9uXCIsXHJcbiAgZXJyb3JDbGFzczogXCJzdWdnZXN0X19lcnJvcl9zaG93XCIsXHJcbn07XHJcbi8vbWFrZSB1bml2ZXJzYWwgZnVuY3Rpb25zIGZvciBidXR0b25zXHJcbmNvbnN0IGRpc2FibGVCdXR0b24gPSBmdW5jdGlvbiAoYnV0dG9uKSB7XHJcbiAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxufTtcclxuY29uc3QgZW5hYmxlQnV0dG9uID0gZnVuY3Rpb24gKGJ1dHRvbikge1xyXG4gIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG59O1xyXG4vL2Z1bmN0aW9uIHRvIHNob3cgZXJyb3JcclxuY29uc3Qgc2hvd0Vycm9yID0gZnVuY3Rpb24gKGZvcm0sIGlucHV0LCB7IGVycm9yQ2xhc3MgfSkge1xyXG4gIGNvbnN0IGVycm9yTWVzc2FnZSA9IGZvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgZXJyb3JNZXNzYWdlLmNsYXNzTGlzdC5hZGQoZXJyb3JDbGFzcyk7XHJcbiAgZXJyb3JNZXNzYWdlLnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbn07XHJcbi8vZnVuY3Rpb24gdG8gaGlkZSBlcnJvclxyXG5jb25zdCBoaWRlRXJyb3IgPSBmdW5jdGlvbiAoZm9ybSwgaW5wdXQsIHsgZXJyb3JDbGFzcyB9KSB7XHJcbiAgY29uc3QgZXJyb3JNZXNzYWdlID0gZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICBlcnJvck1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZShlcnJvckNsYXNzKTtcclxufTtcclxuLy9mdW5jdGlvbiB0byBjb25maXJtIGlmIGlucHV0IGlzIHZhbGlkIG9yIG5vdFxyXG5jb25zdCBjb25maXJtSW5wdXRWYWxpZCA9IGZ1bmN0aW9uIChmb3JtLCBpbnB1dCwgb3B0aW9ucykge1xyXG4gIGlmICghaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgIHNob3dFcnJvcihmb3JtLCBpbnB1dCwgb3B0aW9ucyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGhpZGVFcnJvcihmb3JtLCBpbnB1dCwgb3B0aW9ucyk7XHJcbiAgfVxyXG59O1xyXG5jb25zdCB0b2dnbGVCdXR0b25BYmlsaXR5ID0gZnVuY3Rpb24gKGlucHV0cywgc3VibWl0QnV0dG9uKSB7XHJcbiAgbGV0IGluVmFsaWQgPSBmYWxzZTtcclxuICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgIGlmICghaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgaW5WYWxpZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgaWYgKGluVmFsaWQpIHtcclxuICAgIGRpc2FibGVCdXR0b24oc3VibWl0QnV0dG9uKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZW5hYmxlQnV0dG9uKHN1Ym1pdEJ1dHRvbik7XHJcbiAgfVxyXG59O1xyXG4vL2Z1bmN0aW9uIGZvciBldmVudCBsaXN0ZW5lcnNcclxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoZm9ybSwgb3B0aW9ucykge1xyXG4gIGNvbnN0IHsgaW5wdXQsIHN1Ym1pdEJ1dHRvbiB9ID0gb3B0aW9ucztcclxuICBjb25zdCBpbnB1dEVsZW1lbnRzID0gWy4uLmZvcm0ucXVlcnlTZWxlY3RvckFsbChpbnB1dCldO1xyXG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbkVsZW1lbnQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3Ioc3VibWl0QnV0dG9uKTtcclxuICBpbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGNvbmZpcm1JbnB1dFZhbGlkKGZvcm0sIGlucHV0RWxlbWVudCwgb3B0aW9ucyk7XHJcbiAgICAgIHRvZ2dsZUJ1dHRvbkFiaWxpdHkoaW5wdXRFbGVtZW50cywgc3VibWl0QnV0dG9uRWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufTtcclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgLy9zZWxlY3QgZm9ybXNcclxuICBjb25zdCBmb3JtRWxlbWVudHMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLmZvcm0pXTtcclxuICBmb3JtRWxlbWVudHMuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgIGZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZm9ybUVsZW1lbnQucmVzZXQoKTtcclxuICAgICAgZGlzYWJsZUJ1dHRvbihldnQudGFyZ2V0LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5zdWJtaXRCdXR0b24pKTtcclxuICAgIH0pO1xyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQsIG9wdGlvbnMpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuLy9jYWxsIHRoZSB2YWxpZGF0aW9uIGZ1bmN0aW9uIGF0IHRoZSBlbmQuXHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKGNvbmZpZyk7XHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuVmFsaWRhdGlvbiBlbmRzXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJpbXBvcnQgZGF0YSBmcm9tIFwiLi4vZGF0YS9wYXJrc19kYXRhLmpzb25cIjtcblxuY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJcIik7XG5leHBvcnQgY29uc3QgbmF2QnV0dG9uID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoXCIubmF2X190b2dnbGVcIik7XG5leHBvcnQgY29uc3QgbmF2QnV0dG9uVG9wTGluZSA9IGhlYWRlci5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fdG9nZ2xlLWxpbmVfdG9wXCIpO1xuZXhwb3J0IGNvbnN0IG5hdkJ1dHRvbkJvdHRvbUxpbmUgPSBoZWFkZXIucXVlcnlTZWxlY3RvcihcbiAgXCIubmF2X190b2dnbGUtbGluZV9ib3R0b21cIlxuKTtcbmV4cG9ydCBjb25zdCBuYXZMaW5rcyA9IGhlYWRlci5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fbGlua3NcIik7XG5cbmNvbnN0IHJvdXRlQ2FwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucm91dGVfX2NhcHRpb25cIik7XG5leHBvcnQgY29uc3Qgcm91dGVDYXB0aW9uT3B0aW1pemVkID0gcm91dGVDYXB0aW9uLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnJvdXRlX19jYXB0aW9uX2RhdGFfb3B0aW1pemVkXCJcbik7XG5leHBvcnQgY29uc3Qgcm91dGVDYXB0aW9uVW5vcHRpbWl6ZWQgPSByb3V0ZUNhcHRpb24ucXVlcnlTZWxlY3RvcihcbiAgXCIucm91dGVfX2NhcHRpb25fZGF0YV91bm9wdGltaXplZFwiXG4pO1xuZXhwb3J0IGNvbnN0IHJvdXRlQ2FwdGlvbkRpZmZlcmVuY2UgPSByb3V0ZUNhcHRpb24ucXVlcnlTZWxlY3RvcihcbiAgXCIucm91dGVfX2NhcHRpb25fZGF0YV9kaWZmZXJlbmNlXCJcbik7XG5leHBvcnQgY29uc3Qgcm91dGVDYXB0aW9uRWZmaWNpZW5jeSA9IHJvdXRlQ2FwdGlvbi5xdWVyeVNlbGVjdG9yKFxuICBcIi5yb3V0ZV9fY2FwdGlvbl9kYXRhX2VmZmljaWVuY3lcIlxuKTtcblxuZXhwb3J0IGNvbnN0IGZvb3RlclllYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9feWVhclwiKTtcblxuZXhwb3J0IGNvbnN0IHRoYW5rWW91ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWdnZXN0X190aGFua3lvdVwiKTtcblxuZXhwb3J0IGNvbnN0IGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuXG5jb25zdCBwYXJrc0Zvck9wdGltaXplZE9yZGVyID0gWy4uLmRhdGEucGFya3NdO1xuZXhwb3J0IGNvbnN0IG9yZGVyZWRQYXJrcyA9IHBhcmtzRm9yT3B0aW1pemVkT3JkZXIuc29ydChcbiAgKGEsIGIpID0+IGEub3B0aW1pemVkX29yZGVyIC0gYi5vcHRpbWl6ZWRfb3JkZXJcbik7XG5cbmNvbnN0IHBhcmtzRm9yQmFzZWxpbmVPcmRlciA9IFsuLi5kYXRhLnBhcmtzXTtcbmV4cG9ydCBjb25zdCB1bm9yZGVyZWRQYXJrcyA9IHBhcmtzRm9yQmFzZWxpbmVPcmRlci5zb3J0KFxuICAoYSwgYikgPT4gYS5iYXNlbGluZV9vcmRlciAtIGIuYmFzZWxpbmVfb3JkZXJcbik7XG5cbmV4cG9ydCBjb25zdCBvcHRpbWl6ZWREaXN0YW5jZSA9IGRhdGEub3B0aW1pemVkRGlzdGFuY2U7XG5leHBvcnQgY29uc3QgdW5vcHRpbWl6ZWREaXN0YW5jZSA9IGRhdGEudW5vcHRpbWl6ZWREaXN0YW5jZTtcbmV4cG9ydCBjb25zdCBkaXN0YW5jZURpZmZlcmVuY2UgPSB1bm9wdGltaXplZERpc3RhbmNlIC0gb3B0aW1pemVkRGlzdGFuY2U7XG5leHBvcnQgY29uc3QgZGlzdGFuY2VFZmZpY2llbmN5ID0gKFxuICAoZGlzdGFuY2VEaWZmZXJlbmNlICogMTAwKSAvXG4gIHVub3B0aW1pemVkRGlzdGFuY2VcbikudG9GaXhlZCgyKTtcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgXCIuLi9zY3JpcHRzL3ZhbGlkYXRlLmpzXCI7XG5pbXBvcnQge1xuICBuYXZCdXR0b24sXG4gIG5hdkJ1dHRvblRvcExpbmUsXG4gIG5hdkJ1dHRvbkJvdHRvbUxpbmUsXG4gIGZvb3RlclllYXIsXG4gIGN1cnJlbnRZZWFyLFxuICBuYXZMaW5rcyxcbiAgdGhhbmtZb3UsXG4gIG9yZGVyZWRQYXJrcyxcbiAgdW5vcmRlcmVkUGFya3MsXG4gIG9wdGltaXplZERpc3RhbmNlLFxuICB1bm9wdGltaXplZERpc3RhbmNlLFxuICBkaXN0YW5jZURpZmZlcmVuY2UsXG4gIGRpc3RhbmNlRWZmaWNpZW5jeSxcbiAgcm91dGVDYXB0aW9uT3B0aW1pemVkLFxuICByb3V0ZUNhcHRpb25Vbm9wdGltaXplZCxcbiAgcm91dGVDYXB0aW9uRGlmZmVyZW5jZSxcbiAgcm91dGVDYXB0aW9uRWZmaWNpZW5jeSxcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG4vL2Zvb3RlciB5ZWFyIHVwZGF0ZXMgYXV0b21hdGljYWxseSBldmVyeSB5ZWFyXG5mb290ZXJZZWFyLnRleHRDb250ZW50ID0gY3VycmVudFllYXI7XG5cbi8vZGF0YSBmb3IgdGhlIG1hcCBjYXB0aW9uXG5yb3V0ZUNhcHRpb25PcHRpbWl6ZWQudGV4dENvbnRlbnQgPSBvcHRpbWl6ZWREaXN0YW5jZSArIFwiLW1pbGVcIjtcbnJvdXRlQ2FwdGlvblVub3B0aW1pemVkLnRleHRDb250ZW50ID0gdW5vcHRpbWl6ZWREaXN0YW5jZSArIFwiLW1pbGVcIjtcbnJvdXRlQ2FwdGlvbkRpZmZlcmVuY2UudGV4dENvbnRlbnQgPSBkaXN0YW5jZURpZmZlcmVuY2UgKyBcIi1taWxlXCI7XG5yb3V0ZUNhcHRpb25FZmZpY2llbmN5LnRleHRDb250ZW50ID0gZGlzdGFuY2VFZmZpY2llbmN5ICsgXCIlXCI7XG5cbi8vbmF2QnV0dG9uIG1vYmlsZSB2aWV3IGludGVyYWN0aXZlaXR5XG5uYXZCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgbmF2QnV0dG9uVG9wTGluZS5jbGFzc0xpc3QudG9nZ2xlKFwibmF2X190b2dnbGUtbGluZV90b3Atcm90YXRlXCIpO1xuICBuYXZCdXR0b25Cb3R0b21MaW5lLmNsYXNzTGlzdC50b2dnbGUoXCJuYXZfX3RvZ2dsZS1saW5lX2JvdHRvbS1yb3RhdGVcIik7XG4gIG5hdkxpbmtzLmNsYXNzTGlzdC50b2dnbGUoXCJuYXZfX2xpbmtzX29wZW5cIik7XG59KTtcblxuLy9zdWdnZXN0IHN1Ym1pdCBidXR0b25cbmZ1bmN0aW9uIHJlbW92ZVRoYW5rWW91KCkge1xuICB0aGFua1lvdS5jbGFzc0xpc3QucmVtb3ZlKFwic3VnZ2VzdF9fdGhhbmt5b3Vfc2hvd1wiKTtcbn1cbmNvbnN0IHN1Ym1pdFN1Z2dlc3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gIHRoYW5rWW91LmNsYXNzTGlzdC5hZGQoXCJzdWdnZXN0X190aGFua3lvdV9zaG93XCIpO1xuICBzZXRUaW1lb3V0KHJlbW92ZVRoYW5rWW91LCAxNTAwMCk7XG59O1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBzdWJtaXRTdWdnZXN0aW9uKCk7XG59KTtcblxuY29uc3QgbWFwID0gTC5tYXAoXCJtYXBcIikuc2V0VmlldyhbMzkuODI4MywgLTk4LjU3OTVdLCA0KTtcblxuTC50aWxlTGF5ZXIoXCJodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZ1wiLCB7XG4gIGF0dHJpYnV0aW9uOiBcIiZjb3B5OyBPcGVuU3RyZWV0TWFwIGNvbnRyaWJ1dG9yc1wiLFxufSkuYWRkVG8obWFwKTtcblxuZnVuY3Rpb24gYWRkTWFya2Vyc1RvTWFwKHBhcmtzKSB7XG4gIHBhcmtzLmZvckVhY2goKHBhcmspID0+IHtcbiAgICBMLm1hcmtlcihbcGFyay5sYXRpdHVkZSwgcGFyay5sb25naXR1ZGVdLCB7XG4gICAgICBpY29uOiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOlxuICAgICAgICAgIFwiaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbGVhZmxldC8xLjcuMS9pbWFnZXMvbWFya2VyLWljb24ucG5nXCIsXG4gICAgICAgIGljb25TaXplOiBbMjUsIDQxXSxcbiAgICAgICAgaWNvbkFuY2hvcjogWzEyLCA0MV0sXG4gICAgICAgIHBvcHVwQW5jaG9yOiBbMSwgLTM0XSxcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgICAuYWRkVG8obWFwKVxuICAgICAgLmJpbmRQb3B1cChwYXJrLm5hbWUpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkUm91dGluZ1RvTWFwKHBhcmtzKSB7XG4gIG1hcC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5Sb3V0aW5nLkNvbnRyb2wpIHtcbiAgICAgIG1hcC5yZW1vdmVMYXllcihsYXllcik7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCB3YXlwb2ludHMgPSBwYXJrcy5tYXAoKHBhcmspID0+XG4gICAgTC5sYXRMbmcocGFyay5sYXRpdHVkZSwgcGFyay5sb25naXR1ZGUpXG4gICk7XG5cbiAgTC5Sb3V0aW5nLmNvbnRyb2woe1xuICAgIHdheXBvaW50czogd2F5cG9pbnRzLFxuICAgIGNyZWF0ZU1hcmtlcjogKCkgPT4ge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICByb3V0ZVdoaWxlRHJhZ2dpbmc6IGZhbHNlLFxuICAgIGFkZFdheXBvaW50czogZmFsc2UsXG4gIH0pLmFkZFRvKG1hcCk7XG59XG5cbmFkZE1hcmtlcnNUb01hcChvcmRlcmVkUGFya3MpO1xuYWRkUm91dGluZ1RvTWFwKG9yZGVyZWRQYXJrcyk7XG4iXSwibmFtZXMiOlsiZGlzYWJsZUJ1dHRvbiIsImJ1dHRvbiIsImRpc2FibGVkIiwib3B0aW9ucyIsImZvcm0iLCJpbnB1dCIsInN1Ym1pdEJ1dHRvbiIsImVycm9yQ2xhc3MiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZm9ybUVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJyZXNldCIsInRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJpbnB1dEVsZW1lbnRzIiwic3VibWl0QnV0dG9uRWxlbWVudCIsImlucHV0RWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJfcmVmMiIsImlkIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiaGlkZUVycm9yIiwiX3JlZiIsImVycm9yTWVzc2FnZSIsImFkZCIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJzaG93RXJyb3IiLCJjb25maXJtSW5wdXRWYWxpZCIsImlucHV0cyIsImluVmFsaWQiLCJ0b2dnbGVCdXR0b25BYmlsaXR5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImhlYWRlciIsIm5hdkJ1dHRvbiIsIm5hdkJ1dHRvblRvcExpbmUiLCJuYXZCdXR0b25Cb3R0b21MaW5lIiwibmF2TGlua3MiLCJyb3V0ZUNhcHRpb24iLCJyb3V0ZUNhcHRpb25PcHRpbWl6ZWQiLCJyb3V0ZUNhcHRpb25Vbm9wdGltaXplZCIsInJvdXRlQ2FwdGlvbkRpZmZlcmVuY2UiLCJyb3V0ZUNhcHRpb25FZmZpY2llbmN5IiwiZm9vdGVyWWVhciIsInRoYW5rWW91IiwiY3VycmVudFllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJvcmRlcmVkUGFya3MiLCJkYXRhIiwic29ydCIsImEiLCJiIiwib3B0aW1pemVkX29yZGVyIiwib3B0aW1pemVkRGlzdGFuY2UiLCJiYXNlbGluZV9vcmRlciIsInVub3B0aW1pemVkRGlzdGFuY2UiLCJkaXN0YW5jZURpZmZlcmVuY2UiLCJkaXN0YW5jZUVmZmljaWVuY3kiLCJ0b0ZpeGVkIiwicmVtb3ZlVGhhbmtZb3UiLCJ0b2dnbGUiLCJzZXRUaW1lb3V0IiwibWFwIiwiTCIsInNldFZpZXciLCJ0aWxlTGF5ZXIiLCJhdHRyaWJ1dGlvbiIsImFkZFRvIiwicGFyayIsIm1hcmtlciIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiaWNvbiIsImljb25VcmwiLCJpY29uU2l6ZSIsImljb25BbmNob3IiLCJwb3B1cEFuY2hvciIsImJpbmRQb3B1cCIsIm5hbWUiLCJwYXJrcyIsImVhY2hMYXllciIsImxheWVyIiwiUm91dGluZyIsIkNvbnRyb2wiLCJyZW1vdmVMYXllciIsIndheXBvaW50cyIsImxhdExuZyIsImNvbnRyb2wiLCJjcmVhdGVNYXJrZXIiLCJyb3V0ZVdoaWxlRHJhZ2dpbmciLCJhZGRXYXlwb2ludHMiLCJhZGRSb3V0aW5nVG9NYXAiXSwic291cmNlUm9vdCI6IiJ9